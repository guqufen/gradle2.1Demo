<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商户信息-法奈昇大数据平台</title>
    <meta name="keywords" content="法奈昇大数据平台">
    <meta name="description" content="法奈昇大数据平台">
    <link rel="shortcut icon" href="favicon.ico">
    <link href="js/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="js/bootstrap/css/font-awesome.css" rel="stylesheet">
    <link href="css/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
    <link href="css/style.min.css" rel="stylesheet">
    <link href="css/custom.css" rel="stylesheet">
</head>
<body class="gray-bg">
<div class="panel-body animated fadeInRight">
    <div class="panel panel-default">
        <form id="formSearch" class="form-horizontal">
            <div class="form-group" style="margin-top:15px">
                <div class="col-sm-3">
                    <label class="control-label" for="txt_search_id">商户名：</label>
                    <input type="text" class="form-control" id="txt_search_id">
                </div>
                <div class="col-sm-3">
                    <label class="control-label" for="txt_search_name">商户法人姓名：</label>
                    <input type="text" class="form-control" id="txt_search_name">
                </div>
                <div class="col-sm-3">
                    <label class="control-label" for="txt_search_price">法人联系电话：</label>
                    <input type="text" class="form-control" id="txt_search_price">
                </div>
                <div class="col-sm-3" style="text-align:right;">
                    <button type="button" id="btn_query" class="btn">查询</button>
                    <button type="button" id="btn_reset" class="btn">重置</button>
                </div>
            </div>
        </form>
        <!-- start -->
        <div class="ibox float-e-margins">
            <div class="ibox-content">
                <div class="row row-lg">
                    <div class="col-sm-12">
                        <div id="toolbar" class="btn-group">
                            <button id="btn_add" type="button" class="btn btn-default">
                                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>新增
                            </button>
                            <button id="btn_delete" type="button" class="btn btn-default">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>批量删除
                            </button>
                        </div>
                        <table id="table"></table>
                    </div>
                </div>
            </div>
        </div>
        <!-- end  -->
    </div> 
    
</div>
<script src="https://cdn.staticfile.org/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<!-- <script src="js/content.min.js"></script> -->
<script src="js/plugins/bootstrap-table/bootstrap-table.min.js"></script>
<script src="js/plugins/bootstrap-table/bootstrap-table-mobile.min.js"></script>
<script src="js/plugins/bootstrap-table/bootstrap-table-export.js"></script>
<script src="js/plugins/bootstrap-table/tableExport.js"></script>
<script src="js/plugins/bootstrap-table/tableExport.js"></script>
<script src="js/plugins/bootstrap-table/bootstrap-table-editable.js"></script>
<script src="js/plugins/bootstrap-table/bootstrap-editable.js"></script>
<script src="js/plugins/bootstrap-table/bootstrap-table-zh-CN.min.js"></script>
</body>
<script type="text/javascript">
   
   
//     var json =  [{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多大鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多小鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多小鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多小鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多小鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多鱼","price":"3600"},{"operate":"8080","id":"1","name":"好多小鱼","price":"3600"}];
    getTableData();
    
    window.operateEvents = {
        'click .redact': function (e, value, row, index) {
            alert('You click like action, row: ' + JSON.stringify(row));
        },
        'click .remove': function (e, value, row, index) {
            $table.bootstrapTable('remove', {
                field: 'id',
                values: [row.id]
            });
        }
    };
    function operateFormatter(value, row, index) {
        return [
            '<a class="redact" href="javascript:void(0)" title="点击编辑">',
            '<i class="glyphicon glyphicon-pencil"></i>编辑',
            '</a>  ',
            '<a class="remove" href="javascript:void(0)" title="点击删除">',
            '<i class="glyphicon glyphicon glyphicon-trash"></i>删除',
            '</a>'
        ].join('');
    }
    //初始化表格
    function initTableData(json){
    	$('#table').bootstrapTable({
            sidePagination:'server',
            search: false, //是否启动搜索栏 
            url:'/web/merchantinfo/query',
            showRefresh: true,//是否显示刷新按钮
            showPaginationSwitch: false,//是否显示 数据条数选择框(分页是否显示)
            toolbar: '#toolbar',  //工具按钮用哪个容器
            striped: true,   //是否显示行间隔色
            cache: false,   //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
            pagination: true,   //是否显示分页（*）
            sortable: true,   //是否启用排序
            sortOrder: "asc",   //排序方式
            pageNumber:1,   //初始化加载第一页，默认第一页
            pageSize: 15,   //每页的记录行数（*）
            pageList: [15, 20, 50, 100], //可供选择的每页的行数（*）
            columns: [{
                field: 'state',
                checkbox: true,
                rowspan:1,
                align: 'center',
                valign: 'middle'
            },{
                field: 'operate',
                title: '操作',
                width:'10%',
                align: 'center',
                formatter: operateFormatter,
                // events: operateEvents
            },{
                field: 'name',
                title: '商户名'
            }, {
                field: 'innerCode',
                title: '内部商户号'
            }, {
                field: 'legalPerson',
                title: '商户法人姓名'
            }, {
                field: 'legalPersonTel',
                title: '法人联系电话'
            }, {
                field: 'legalValidCardType',
                title: '法人有效证件类型'
            }, {
                field: 'cardNum',
                title: '证件号码'
            }, {
                field: 'cardValidTime',
                title: '证件有效期'
            }, {
                field: 'businessLicenseNum',
                title: '营业执照号码'
            }, {
                field: 'businessLicenseValidTime',
                title: '营业执照有效期'
            }, {
                field: 'taxRegistCode',
                title: '税务登记号'
            }, {
                field: 'registAddress',
                title: '商户注册地址'
            }, {
                field: 'mercFlag',
                title: '商户标签'
            }, {
                field: 'source',
                title: '商户注册来源'
            }]
        });
    }
    //获取表格数据
    function getTableData(){
    	var json_data =[{}];
    	var pageNumber = 1;
    	var pageSize = 10;
    	$.ajax({
    		url:'web/merchantinfo/queryList',
    		data:{'currentPageNum':pageNumber,'pageSize':pageSize},
    		type:'POST',
    		dataType:'json',
    		success:function(data){
    			initTableData(data.data);
    		}
    	});
    }
</script>
</html>
