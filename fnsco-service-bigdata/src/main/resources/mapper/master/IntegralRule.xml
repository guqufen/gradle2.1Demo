<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="net.fnsco.bigdata.service.dao.master.IntegralRuleDAO" >
<resultMap id="BaseResultMap" type="net.fnsco.bigdata.service.domain.IntegralRule" >
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="description" property="description" jdbcType="VARCHAR" />
    <result column="integral" property="integral" jdbcType="INTEGER" />
    <result column="status" property="status" jdbcType="INTEGER" />
    <result column="is_script" property="isScript" jdbcType="INTEGER" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
  </resultMap>
  <sql id="Base_Column_List" >
    id, code,name, description, integral,status,is_script,create_time
  </sql>
	<select id="queryListByCondition" parameterType="net.fnsco.bigdata.service.domain.IntegralRule"
		resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from i_integral_rule
		<where>
			<if test="id != null and id != ''">
				AND id = #{id}
			</if>
			<if test="code != null and code != ''">
				AND code = #{code}
			</if>
			<if test="name != null and name != ''">
				AND name = #{name}
			</if>
			<if test="description != null and description != ''">
				AND description = #{description}
			</if>
			<if test="integral != null and integral != ''">
				AND integral = #{integral}
			</if>
			<if test="status != null and status != ''">
				AND status = #{status}
			</if>
			<if test="isScript != null and isScript != ''">
				AND is_script = #{isScript}
			</if>
			<if test="createTime != null and createTime != ''">
				AND create_time = #{createTime}
			</if>
		</where>
		order by code
	</select>
	<select id="queryDistinctName" resultType="string">
		select distinct name from i_integral_rule order by name
	</select>
	<!-- 通过code查找积分信息 -->
	<select id="queryIntegralByCode" parameterType="java.lang.String" resultMap="BaseResultMap">
		select <include refid="Base_Column_List" /> from i_integral_rule where code = #{code}
	</select>
</mapper>